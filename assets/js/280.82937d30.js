(window.webpackJsonp=window.webpackJsonp||[]).push([[280],{597:function(s,t,a){"use strict";a.r(t);var n=a(14),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"traceroute-显示数据包到主机间的路径"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#traceroute-显示数据包到主机间的路径"}},[s._v("#")]),s._v(" traceroute - 显示数据包到主机间的路径")]),s._v(" "),t("p",[s._v("tracepath指令可以追踪数据到达目标主机的路由信息，同时还能够发现MTU值。它跟踪路径到目的地，沿着这条路径发现MTU。它使用UDP端口或一些随机端口。它类似于Traceroute，只是不需要超级用户特权，并且没有花哨的选项。tracepath 6很好地替代了tracerout 6和Linux错误队列应用程序的典型示例。tracepath的情况更糟，因为商用IP路由器在ICMP错误消息中没有返回足够的信息。很可能，当它们被更新的时候，它会改变")]),s._v(" "),t("h2",{attrs:{id:"适用范围"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#适用范围"}},[s._v("#")]),s._v(" 适用范围")]),s._v(" "),t("div",{staticClass:"svg redhat"},[s._v("RedHat")]),s._v(" "),t("div",{staticClass:"svg rhel"},[s._v("RHEL")]),s._v(" "),t("div",{staticClass:"svg ubuntu"},[s._v("Ubuntu")]),s._v(" "),t("div",{staticClass:"svg centos"},[s._v("CentOS")]),s._v(" "),t("div",{staticClass:"svg debian"},[s._v("Debian")]),s._v(" "),t("div",{staticClass:"svg deepin"},[s._v("Deepin")]),s._v(" "),t("div",{staticClass:"svg suse"},[s._v("SUSE")]),s._v(" "),t("div",{staticClass:"svg opensuse"},[s._v("openSUSE")]),s._v(" "),t("div",{staticClass:"svg fedora"},[s._v("Fedora")]),s._v(" "),t("div",{staticClass:"svg linuxmint"},[s._v("Linux Mint")]),s._v(" "),t("div",{staticClass:"svg alpinelinux"},[s._v("Alpine Linux")]),s._v(" "),t("div",{staticClass:"svg archlinux"},[s._v("Arch Linux")]),s._v(" "),t("h2",{attrs:{id:"语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("tracepath "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" -n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" pktlen"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  destination "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" port"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),t("h2",{attrs:{id:"选项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#选项"}},[s._v("#")]),s._v(" 选项")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 不查看主机名字")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置初始化的数据包长度，默认65535")]),s._v("\n")])])]),t("h2",{attrs:{id:"举例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#举例"}},[s._v("#")]),s._v(" 举例")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("root@mops:~ "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tracepath6 3ffe:2400:0:109::2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("?: "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("LOCALHOST"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                              pmtu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":  dust.inr.ac.ru                   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".411ms\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(":  dust.inr.ac.ru        asymm  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".390ms pmtu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1480")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(":  3ffe:2400:0:109::2               "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("463")]),s._v(".514ms reached\nResume: pmtu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1480")]),s._v(" hops "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" back "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n")])])]),t("p",[s._v("第一列显示探针的TTL，后面是冒号。通常TTL的值是从网络中得到的，但有时回复并不包含必要的信息，我们不得不猜测它。在这种情况下，数字后面跟着？。")]),s._v(" "),t("p",[s._v("第二列显示网络跳，对探测作出答复。如果探测未发送到网络，则为路由器地址或者 [localhost]地址。")]),s._v(" "),t("p",[s._v("行的其余部分显示了有关到达相关工作跳的路径的各种信息。作为规则，它包含RTT的值。此外，它可以显示路径MTU，当它改变。如果路径是不对称的，或者探测在到达指定跳之前完成，则显示前向和后向跳数之间的差异。这一信息不可靠。F.E.第三行显示1的不对称性，这是因为第一次TTL为2的探针在第一跳时由于路径MTU发现而被拒绝。")]),s._v(" "),t("p",[s._v("最后一行总结了到达目的地的所有路径的信息，显示了检测到的路径MTU、到达目的地的跳数以及我们对从目的地到我们的跳数的猜测，这在路径不对称时可能有所不同。")]),s._v(" "),t("hr"),s._v(" "),t("p",[s._v("追踪到www.qq.com的路由")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" www.qq.com           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ping目标地址，可以看到目标ip")]),s._v("\nPING www.qq.com "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("111.30")]),s._v(".132.101"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("56")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("84")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" bytes of data.\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" bytes from "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("111.30")]),s._v(".132.101: "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("icmp_seq")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ttl")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("time")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23.9")]),s._v(" ms\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" bytes from "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("111.30")]),s._v(".132.101: "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("icmp_seq")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ttl")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("time")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33.0")]),s._v(" ms \n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ tracepath www.qq.com           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#追踪路由")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.9 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.9"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("                              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".067ms pmtu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.1 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("                              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".569ms\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.1 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("                              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(".055ms\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(":  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.1 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("                             "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(".651ms pmtu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1492")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(":  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.46")]),s._v(".80.1 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.46")]),s._v(".80.1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("                               "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(".434ms\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(":  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("183.203")]),s._v(".226.201 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("183.203")]),s._v(".226.201"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("                      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(".547ms\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(":  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("211.138")]),s._v(".99.57 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("211.138")]),s._v(".99.57"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("                         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("70")]),s._v(".194ms asymm  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(":  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("221.183")]),s._v(".14.5 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("221.183")]),s._v(".14.5"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("                           "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(".023ms\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(":  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("221.176")]),s._v(".19.237 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("221.176")]),s._v(".19.237"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("                      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("206")]),s._v(".968ms\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(":  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("221.183")]),s._v(".8.149 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("221.183")]),s._v(".8.149"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("                         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(".488ms asymm  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(":  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("221.183")]),s._v(".27.106 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("221.183")]),s._v(".27.106"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("                       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("57")]),s._v(".434ms\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(":  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("111.30")]),s._v(".145.34 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("111.30")]),s._v(".145.34"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("                         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v(".426ms\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);