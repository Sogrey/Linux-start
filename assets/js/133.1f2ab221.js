(window.webpackJsonp=window.webpackJsonp||[]).push([[133],{451:function(s,a,t){"use strict";t.r(a);var n=t(14),r=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"history-显示或操作历史列表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#history-显示或操作历史列表"}},[s._v("#")]),s._v(" history - 显示或操作历史列表")]),s._v(" "),a("p",[s._v("history指令用来显示用户以前执行过的历史命令，也可以对历史命令进行追加和删除。")]),s._v(" "),a("h2",{attrs:{id:"主要用途"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主要用途"}},[s._v("#")]),s._v(" 主要用途")]),s._v(" "),a("ul",[a("li",[s._v("显示历史列表。")]),s._v(" "),a("li",[s._v("操作历史列表。")])]),s._v(" "),a("h2",{attrs:{id:"适用范围"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#适用范围"}},[s._v("#")]),s._v(" 适用范围")]),s._v(" "),a("div",{staticClass:"svg redhat"},[s._v("RedHat")]),s._v(" "),a("div",{staticClass:"svg rhel"},[s._v("RHEL")]),s._v(" "),a("div",{staticClass:"svg ubuntu"},[s._v("Ubuntu")]),s._v(" "),a("div",{staticClass:"svg centos"},[s._v("CentOS")]),s._v(" "),a("div",{staticClass:"svg debian"},[s._v("Debian")]),s._v(" "),a("div",{staticClass:"svg deepin"},[s._v("Deepin")]),s._v(" "),a("div",{staticClass:"svg suse"},[s._v("SUSE")]),s._v(" "),a("div",{staticClass:"svg opensuse"},[s._v("openSUSE")]),s._v(" "),a("div",{staticClass:"svg fedora"},[s._v("Fedora")]),s._v(" "),a("div",{staticClass:"svg linuxmint"},[s._v("Linux Mint")]),s._v(" "),a("div",{staticClass:"svg alpinelinux"},[s._v("Alpine Linux")]),s._v(" "),a("div",{staticClass:"svg archlinux"},[s._v("Arch Linux")]),s._v(" "),a("h2",{attrs:{id:"语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v("  offset\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-anrw")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v("  arg  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("arg "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v("  arg  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("arg "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),a("h2",{attrs:{id:"选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#选项"}},[s._v("#")]),s._v(" 选项")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 清空当前历史命令")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除指定序号的历史命令")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 追加新的历史命令")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 从历史命令的文件中读取本次shell会话没有读取的命令")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 读取历史命令文件到当前的历史命令缓冲区")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将指令作为单独的条目存储到历史命令缓冲区，并且在添加之前删除缓冲区中的最后一条命令")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-w")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将当前shell历史命令缓冲区写入到历史命令文件")]),s._v("\n")])])]),a("h2",{attrs:{id:"举例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#举例"}},[s._v("#")]),s._v(" 举例")]),s._v(" "),a("p",[s._v("显示当前历史命令")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#显示当前所有历史命令")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1008")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" /usr/bin/lsusb\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1009")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" /usr/bin/tail\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1010")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1011")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" /usr/bin/tail "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1012")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1013")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v("\n")])])]),a("p",[s._v("删除指定的历史命令")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看历史命令")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("992")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" /usr/bin/lsusb\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("993")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("994")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" /usr/bin/tail\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("995")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("996")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("997")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("998")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1008")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("999")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("996")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1001")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v(" –d "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("994")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#删除指令的历史命令")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v("           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看历史命令，已经删除")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("991")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" /usr/bin/\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("992")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" /usr/bin/lsusb\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("993")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("994")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("995")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("996")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1008")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("997")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("998")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("996")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("999")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v("\n")])])]),a("h2",{attrs:{id:"注意"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注意"}},[s._v("#")]),s._v(" 注意")]),s._v(" "),a("ul",[a("li",[s._v("在命令行中，可以使用符号!执行指定序号的历史命令。例如，要执行第2个历史命令，则输入!2。")]),s._v(" "),a("li",[s._v("关闭终端后，历史列表将被写入历史文件~/.bash_history。")]),s._v(" "),a("li",[s._v("环境变量HISTSIZE决定了历史文件中命令的存储数量，默认存储1000条。")]),s._v(" "),a("li",[s._v("环境变量HISTTIMEFORMAT如果是非空值，则使用其值作为strftime(3)打印相关时间戳的格式字符串添加在每个显示的历史记录之前；否则不会打印时间戳。")]),s._v(" "),a("li",[s._v("该命令是bash内建命令，相关的帮助信息请查看help命令。")])])])}),[],!1,null,null,null);a.default=r.exports}}]);