(window.webpackJsonp=window.webpackJsonp||[]).push([[197],{514:function(t,s,a){"use strict";a.r(s);var n=a(14),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"mktemp-创建临时文件供shell脚本使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mktemp-创建临时文件供shell脚本使用"}},[t._v("#")]),t._v(" mktemp - 创建临时文件供shell脚本使用")]),t._v(" "),s("p",[t._v("mktemp命令 被用来创建临时文件供shell脚本使用。")]),t._v(" "),s("p",[t._v("创建临时文件或者目录，这样的创建方式是安全的。")]),t._v(" "),s("h2",{attrs:{id:"适用范围"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#适用范围"}},[t._v("#")]),t._v(" 适用范围")]),t._v(" "),s("div",{staticClass:"svg redhat"},[t._v("RedHat")]),t._v(" "),s("div",{staticClass:"svg rhel"},[t._v("RHEL")]),t._v(" "),s("div",{staticClass:"svg ubuntu"},[t._v("Ubuntu")]),t._v(" "),s("div",{staticClass:"svg centos"},[t._v("CentOS")]),t._v(" "),s("div",{staticClass:"svg debian"},[t._v("Debian")]),t._v(" "),s("div",{staticClass:"svg deepin"},[t._v("Deepin")]),t._v(" "),s("div",{staticClass:"svg suse"},[t._v("SUSE")]),t._v(" "),s("div",{staticClass:"svg opensuse"},[t._v("openSUSE")]),t._v(" "),s("div",{staticClass:"svg fedora"},[t._v("Fedora")]),t._v(" "),s("div",{staticClass:"svg linuxmint"},[t._v("Linux Mint")]),t._v(" "),s("div",{staticClass:"svg alpinelinux"},[t._v("Alpine Linux")]),t._v(" "),s("div",{staticClass:"svg archlinux"},[t._v("Arch Linux")]),t._v(" "),s("h2",{attrs:{id:"语法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[t._v("#")]),t._v(" 语法")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("mktemp  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("选项"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("TEMPLATE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("h2",{attrs:{id:"选项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#选项"}},[t._v("#")]),t._v(" 选项")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("-d, "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--directory")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建目录")]),t._v("\n-u, --dry-run           "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 不要创建任何东西，只要打印一个名字（不安全）")]),t._v("\n-q, "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--quiet")]),t._v("             "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 发生错误的时候不显示提示信息")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--suffix")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("SUFF           "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 附加SUFF到模板中。SUFF不能包含斜杠。如果模板不以X结尾，则使用此选项。")]),t._v("\n--tmpdir"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("dir"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 指定临时文件的路径，如果tmpdir后面没有路径，那么使用变量$TMPDIR；如果这个变量也没指定，那么临时文件创建在/tmp目录下。使用此选项，模板不能是绝对名称。与“-t“不同，模板可能包含斜杠，但mktemp只创建最终组件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" DIR                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 使用DIR作为前缀")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-t")]),t._v("                      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将模板解释为一个相对于目录$TMPDIR(如果设置)的单个文件名组件；否则通过-p指定的目录；或者使用/tmp（-t已经弃用）")]),t._v("\nTEMPLATE                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 临时文件名，名字中必须包含至少3个字母X。如果没有指定，那么默认是tmp. XXXXXXXXXX")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--help")]),t._v("                           "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示帮助文档")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--version")]),t._v("                        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示命令版本信息")]),t._v("\n")])])]),s("h2",{attrs:{id:"举例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#举例"}},[t._v("#")]),t._v(" 举例")]),t._v(" "),s("p",[t._v("创建临时文件")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@bogon 文档"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ mktemp wj123.XXXX    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#名字包含4个X")]),t._v("\nwj123.kpET\nYou have new mail "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" /var/spool/mail/root\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@bogon 文档"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ mktemp wj123.XXXXXX   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#名字包含6个X")]),t._v("\nwj123.oH2o4P\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@bogon 文档"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(".c  wj123.kpET  wj123.oH2o4P\n")])])]),s("p",[t._v("创建临时目录")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@bogon 文档"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ mktemp "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" wjtp   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#名字中没有X")]),t._v("\nmktemp: 模板"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"wjtp"')]),t._v(" 中X 太少\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@bogon 文档"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ mktemp "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" wjtpxxx   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#名字中没有X，这里可以看到X必须是大写的")]),t._v("\nmktemp: 模板"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"wjtpxxx"')]),t._v(" 中X 太少\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@bogon 文档"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ mktemp "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" wjtpXXX   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#创建成功")]),t._v("\nwjtpflR\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@bogon 文档"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-l")]),t._v("\n总用量 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n-rw-r--r-- "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v("月   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" 09:11 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(".c\n-rw------- "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v("月   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":47 wj123.kpET\n-rw------- "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v("月   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":47 wj123.oH2o4P\ndrwx------ "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" root root "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4096")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v("月   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":50 wjtpflR\n")])])]),s("p",[t._v("在/tmp中创建临时文件")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@bogon 文档"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ mktemp "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--tmpdir")]),t._v(" wj234.XXX "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#tmpdir没有指定路径，在tmp下创建")]),t._v("\n/tmp/wj234.BNy\nYou have new mail "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" /var/spool/mail/root\n")])])]),s("p",[t._v("在指定目录下创建临时目录")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@bogon 文档"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ mktemp "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--tmpdir")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/weijie wj234.XXX  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#在tmpdir指定的路径下创建")]),t._v("\n/weijie/wj234.q1C\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@bogon 文档"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(".c  wj123.kpET  wj123.oH2o4P  wj234.q1C  wjtpflR\n")])])]),s("p",[t._v("使用选项-u创建")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@bogon 文档"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ mktemp "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-u")]),t._v(" wj123.XXXXXX  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#使用-u选项")]),t._v("\nwj123.dSgIKl\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@bogon 文档"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#看不到临时文件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(".c  wj123.kpET  wj123.oH2o4P  wj234.q1C  wjtpflR\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);