(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{350:function(a,t,s){"use strict";s.r(t);var e=s(14),n=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"ab-apache服务器的性能测试工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ab-apache服务器的性能测试工具"}},[a._v("#")]),a._v(" ab - Apache服务器的性能测试工具")]),a._v(" "),t("p",[a._v("ab命令 是一个测试你 Apache http 服务器的工具，你可以通过这个工具，指定一个单位时间内向 apache 发出的请求数量来看看你的 Apache 和机器配合的性能如何。")]),a._v(" "),t("p",[a._v("ab指令是apache的性能测试工具，它可以测试当前apache服务器的运行性能，显示每秒中可以处理多少个http请求。")]),a._v(" "),t("h2",{attrs:{id:"适用范围"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#适用范围"}},[a._v("#")]),a._v(" 适用范围")]),a._v(" "),t("div",{staticClass:"svg redhat"},[a._v("RedHat")]),a._v(" "),t("div",{staticClass:"svg rhel"},[a._v("RHEL")]),a._v(" "),t("div",{staticClass:"svg ubuntu"},[a._v("Ubuntu")]),a._v(" "),t("div",{staticClass:"svg centos"},[a._v("CentOS")]),a._v(" "),t("div",{staticClass:"svg fedora"},[a._v("Fedora")]),a._v(" "),t("h2",{attrs:{id:"语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[a._v("#")]),a._v(" 语法")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("ab "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("OPTION"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\nab "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" auth-username:password "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" concurrency "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-C")]),a._v(" cookie-name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("value\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" csv-file "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-g")]),a._v(" gnuplot-file "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" custom-header "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-k")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v("  requests  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" POST-file "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-P")]),a._v(" proxy-auth-user‐\nname:password "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-q")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-S")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" timelimit "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-T")]),a._v(" content-type  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" verbosity"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-V")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-w")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-x")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("table"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("-attributes "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-X")]),a._v(" proxy"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(":port"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("tr"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("-attributes  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-z")]),a._v("   "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("td"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("-attributes   "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("   "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("http://"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("host‐\nname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(":port"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("/path\n")])])]),t("h2",{attrs:{id:"选项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#选项"}},[a._v("#")]),a._v(" 选项")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" name：pass         "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 向服务器提供用户名和密码")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b")]),a._v("                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# tcp连接的缓冲区大小")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v("                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 并发请求数目，默认1个")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-C")]),a._v(" cookie-name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("value  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 添加cookie")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" csv-file           "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 指定产生的csv文件")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-g")]),a._v("                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 把测试结果写入到指定的gnuplot文件")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v("                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 显示帮助信息")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v("                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 为请求附加额外的头信息")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v("                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 执行http中的HEAD请求而不是GET")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-k")]),a._v("                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 启动keepalive功能")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v("                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 指定测试会话中的请求次数")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v("                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 指定包含post数据的文件")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-q")]),a._v("                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 如果请求数大于150，ab指令在处理10%或者100个请求后显示进度")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r")]),a._v("                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 当有socket接收错误的时候，不退出")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v("                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 指定测试的最大描述")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-T")]),a._v("                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 指定Content-type信息")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v("                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 设置显示信息的级别")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-V")]),a._v("                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 显示版本信息")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-x")]),a._v("                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 设置table标记属性的字符串")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-X")]),a._v("                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 设置代理服务器")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v("                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 设置tr标签")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-z")]),a._v("                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 设置td标签")]),a._v("\n")])])]),t("h2",{attrs:{id:"举例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#举例"}},[a._v("#")]),a._v(" 举例")]),a._v(" "),t("p",[a._v("测试性能")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# ab -n 10 -c 10 http://www.qq.com/     #10个请求，并发10个")]),a._v("\nThis is ApacheBench, Version "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2.3")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$Revision")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("655654")]),a._v(" $"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\nCopyright "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1996")]),a._v(" Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\nLicensed to The Apache Software Foundation, http://www.apache.org/\nBenchmarking www.qq.com "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("be patient"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".apr_poll: The "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("timeout")]),a._v(" specified has expired "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("70007")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\nTotal of "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("6")]),a._v(" requests completed\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);