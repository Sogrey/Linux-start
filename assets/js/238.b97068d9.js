(window.webpackJsonp=window.webpackJsonp||[]).push([[238],{555:function(s,a,t){"use strict";t.r(a);var e=t(14),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"resize2fs-调整ext2-ext3-ext4文件系统的大小"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resize2fs-调整ext2-ext3-ext4文件系统的大小"}},[s._v("#")]),s._v(" resize2fs - 调整ext2\\ext3\\ext4文件系统的大小")]),s._v(" "),a("p",[s._v("调整ext2\\ext3\\ext4文件系统的大小，它可以放大或者缩小没有挂载的文件系统的大小。如果文件系统已经挂载，它可以扩大文件系统的大小，前提是内核支持在线调整大小。")]),s._v(" "),a("p",[s._v("size参数指定所请求的文件系统的新大小。如果没有指定任何单元，那么size参数的单位应该是文件系统的文件系统块大小。size参数可以由下列单位编号之一后缀：“s”、“K”、“M”或“G”，分别用于512字节扇区、千字节、兆字节或千兆字节。文件系统的大小可能永远不会大于分区的大小。如果未指定Size参数，则它将默认为分区的大小。")]),s._v(" "),a("p",[s._v("resize2fs程序不操作分区的大小。如果希望扩大文件系统，必须首先确保可以扩展基础分区的大小。如果您使用逻辑卷管理器LVM(8)，可以使用fdisk(8)删除分区并以更大的大小重新创建它，或者使用lvexport(8)。在重新创建分区时，请确保使用与以前相同的启动磁盘圆柱来创建分区！否则，调整大小操作肯定无法工作，您可能会丢失整个文件系统。运行fdisk(8)后，运行resize2fs来调整ext 2文件系统的大小，以使用新扩大的分区中的所有空间。")]),s._v(" "),a("p",[s._v("如果希望缩小ext2分区，请首先使用resize2fs缩小文件系统的大小。然后可以使用fdisk(8)缩小分区的大小。缩小分区大小时，请确保不使其小于ext2文件系统的新大小。")]),s._v(" "),a("h2",{attrs:{id:"适用范围"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#适用范围"}},[s._v("#")]),s._v(" 适用范围")]),s._v(" "),a("div",{staticClass:"svg redhat"},[s._v("RedHat")]),s._v(" "),a("div",{staticClass:"svg rhel"},[s._v("RHEL")]),s._v(" "),a("div",{staticClass:"svg ubuntu"},[s._v("Ubuntu")]),s._v(" "),a("div",{staticClass:"svg centos"},[s._v("CentOS")]),s._v(" "),a("div",{staticClass:"svg debian"},[s._v("Debian")]),s._v(" "),a("div",{staticClass:"svg deepin"},[s._v("Deepin")]),s._v(" "),a("div",{staticClass:"svg suse"},[s._v("SUSE")]),s._v(" "),a("div",{staticClass:"svg opensuse"},[s._v("openSUSE")]),s._v(" "),a("div",{staticClass:"svg fedora"},[s._v("Fedora")]),s._v(" "),a("div",{staticClass:"svg linuxmint"},[s._v("Linux Mint")]),s._v(" "),a("div",{staticClass:"svg alpinelinux"},[s._v("Alpine Linux")]),s._v(" "),a("div",{staticClass:"svg archlinux"},[s._v("Arch Linux")]),s._v(" "),a("h2",{attrs:{id:"语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("resize2fs  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("选项"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  device  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("size"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nresize2fs  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-fFpPM")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" debug-flags "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-S")]),s._v(" RAID-stride "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  device  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" size "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),a("h2",{attrs:{id:"选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#选项"}},[s._v("#")]),s._v(" 选项")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" debug-flags         "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打开各种resize2fs调试特性，如果它们已经编译成二进制文件的话。调试标志应该通过从以下列表中添加所需功能的数量来计算：")]),s._v("\n                       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2，调试块重定位。")]),s._v("\n                       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4，调试iNode重定位。")]),s._v("\n                       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 8，调试移动inode表。")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v("                     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 强制执行，覆盖一些通常强制执行的安全检查。")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-F")]),s._v("                     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行之前，刷新文件系统的缓冲区")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-M")]),s._v("                     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将文件系统缩小到最小值")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v("                     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示已经完成任务的百分比")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-P")]),s._v("                     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示文件系统的最小值")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-S")]),s._v(" RAID-stride         "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# resize2fs程序将启发式地确定在创建文件系统时指定的RAID步长。此选项允许用户显式地指定RAID步长设置，以便由resize2fs代替。")]),s._v("\n")])])]),a("h2",{attrs:{id:"举例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#举例"}},[s._v("#")]),s._v(" 举例")]),s._v(" "),a("p",[s._v("显示sda1最小值")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ resize2fs "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-P")]),s._v(" /dev/sda1\nresize2fs "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.41")]),s._v(".12 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v("-May-2010"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nEstimated minimum size of the filesystem: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("37540")]),s._v("\n")])])]),a("p",[s._v("设置sdb4为1k")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ resize2fs /dev/sdb4 1k\nresize2fs "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.41")]),s._v(".12 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v("-May-2010"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nresize2fs: New size smaller than minimum "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("373")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#小于最小值，失败")]),s._v("\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);