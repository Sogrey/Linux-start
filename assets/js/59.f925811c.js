(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{377:function(s,a,t){"use strict";t.r(a);var e=t(14),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"chsh-用来更换登录系统时使用的shell"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#chsh-用来更换登录系统时使用的shell"}},[s._v("#")]),s._v(" chsh - 用来更换登录系统时使用的shell")]),s._v(" "),a("p",[s._v("chsh命令 用来更换登录系统时使用的shell。若不指定任何参数与用户名称，则chsh会以应答的方式进行设置。")]),s._v(" "),a("p",[s._v("改变用户登录时使用的shell，默认使用bash。如果命令行上没有给出shell，chsh将提示输入一个shell。chsh将接受系统上任何可执行文件的完整路径名。但是，如果shell未在“/etc/shell”文件中列出，则将发出警告。另一方面，也可以将其配置为只接受此文件中列出的shell，除非您是root用户。")]),s._v(" "),a("h2",{attrs:{id:"适用范围"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#适用范围"}},[s._v("#")]),s._v(" 适用范围")]),s._v(" "),a("div",{staticClass:"svg redhat"},[s._v("RedHat")]),s._v(" "),a("div",{staticClass:"svg rhel"},[s._v("RHEL")]),s._v(" "),a("div",{staticClass:"svg ubuntu"},[s._v("Ubuntu")]),s._v(" "),a("div",{staticClass:"svg centos"},[s._v("CentOS")]),s._v(" "),a("div",{staticClass:"svg debian"},[s._v("Debian")]),s._v(" "),a("div",{staticClass:"svg deepin"},[s._v("Deepin")]),s._v(" "),a("div",{staticClass:"svg suse"},[s._v("SUSE")]),s._v(" "),a("div",{staticClass:"svg opensuse"},[s._v("openSUSE")]),s._v(" "),a("div",{staticClass:"svg fedora"},[s._v("Fedora")]),s._v(" "),a("div",{staticClass:"svg linuxmint"},[s._v("Linux Mint")]),s._v(" "),a("div",{staticClass:"svg alpinelinux"},[s._v("Alpine Linux")]),s._v(" "),a("div",{staticClass:"svg archlinux"},[s._v("Arch Linux")]),s._v(" "),a("h2",{attrs:{id:"语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("chsh  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("选项"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  user\n")])])]),a("h2",{attrs:{id:"选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#选项"}},[s._v("#")]),s._v(" 选项")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("-s, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--shell")]),s._v("                       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 改变登录后使用的shell环境")]),s._v("\n-l, --list-shells                 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示系统当前可以用的shell")]),s._v("\n\n-u, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--help")]),s._v("                        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示帮助文档")]),s._v("\n-v, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--version")]),s._v("                     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示命令版本信息")]),s._v("\n")])])]),a("h2",{attrs:{id:"举例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#举例"}},[s._v("#")]),s._v(" 举例")]),s._v(" "),a("p",[s._v("查看可用的shell")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sogrey@bogon 文档"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ chsh "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" david   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#显示当可用shell")]),s._v("\n/bin/sh\n/bin/bash\n/sbin/nologin\n/bin/dash\n/bin/tcsh\n/bin/csh\n")])])]),a("p",[s._v("改变用户shell")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sogrey@bogon 文档"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ chsh "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" /bin/sh david  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#改变登录shell")]),s._v("\nChanging shell "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" david.\nShell changed.\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sogrey@bogon 文档"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" david               "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#切换用户，shell已经改")]),s._v("\nsh-4.1$\n")])])]),a("p",[s._v("把我的shell改成zsh")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sogrey@bogon 文档"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ chsh "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" /bin/zsh\nChanging shell "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" rocrocket.\nPassword:\nShell changed.\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sogrey@bogon 文档"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$\n")])])]),a("p",[s._v("使用chsh加选项-s就可以修改登录的shell了！你会发现你现在执行echo $SHELL后仍然输出为/bin/bash，这是因为你需要重启你的shell才完全投入到zsh怀抱中去。chsh -s其实修改的就是/etc/passwd文件里和你的用户名相对应的那一行。")]),s._v(" "),a("p",[s._v("把shell修改回/bin/bash")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sogrey@bogon 文档"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ chsh "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" /bin/bash\nChanging shell "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" rocrocket.\nPassword:\nShell changed.\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);