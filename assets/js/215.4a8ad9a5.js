(window.webpackJsonp=window.webpackJsonp||[]).push([[215],{539:function(a,s,t){"use strict";t.r(s);var e=t(14),n=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"ntpdate-通过轮询指定服务器设置本地日期和时间从而确定正确的时间"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ntpdate-通过轮询指定服务器设置本地日期和时间从而确定正确的时间"}},[a._v("#")]),a._v(" ntpdate - 通过轮询指定服务器设置本地日期和时间从而确定正确的时间")]),a._v(" "),s("p",[a._v("ntpdate指令通过轮询指定为服务器参数的网络时间协议(NTP)服务器来设置本地日期和时间,从而确定正确的时间。")]),a._v(" "),s("h2",{attrs:{id:"适用范围"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#适用范围"}},[a._v("#")]),a._v(" 适用范围")]),a._v(" "),s("div",{staticClass:"svg redhat"},[a._v("RedHat")]),a._v(" "),s("div",{staticClass:"svg rhel"},[a._v("RHEL")]),a._v(" "),s("div",{staticClass:"svg ubuntu"},[a._v("Ubuntu")]),a._v(" "),s("div",{staticClass:"svg centos"},[a._v("CentOS")]),a._v(" "),s("div",{staticClass:"svg debian"},[a._v("Debian")]),a._v(" "),s("div",{staticClass:"svg deepin"},[a._v("Deepin")]),a._v(" "),s("div",{staticClass:"svg suse"},[a._v("SUSE")]),a._v(" "),s("div",{staticClass:"svg opensuse"},[a._v("openSUSE")]),a._v(" "),s("div",{staticClass:"svg fedora"},[a._v("Fedora")]),a._v(" "),s("div",{staticClass:"svg linuxmint"},[a._v("Linux Mint")]),a._v(" "),s("div",{staticClass:"svg alpinelinux"},[a._v("Alpine Linux")]),a._v(" "),s("div",{staticClass:"svg archlinux"},[a._v("Arch Linux")]),a._v(" "),s("h2",{attrs:{id:"语法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[a._v("#")]),a._v(" 语法")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ntpdate  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("选项"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("  server\n")])])]),s("h2",{attrs:{id:"选项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#选项"}},[a._v("#")]),a._v(" 选项")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-a")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 启用身份验证功能并指定要用于身份验证的密钥标识符。密钥和密钥标识符必须 在客户端密钥文件和服务器密钥文件中都匹配。缺省设置时禁用身份验证功能")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-B")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 强制始终使用adjtime系统调用来微调时间(即使测量到的偏移量大于±128ms)。 默认设置时在偏移量大于±12.8ms时使用clock_settime系统调用步进时间")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 强制使用clock_settime系统调用来步进时间,而不是使用adjtime系统调用来微 调时间 (默认值)。 如果在引导时从启动文件中调用,则应使用该选项")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 启用调试模式,在该模式下ntpdate将经历所有步骤,而不仅仅是调整本地时钟。 另外还将输出可用于一般性调试的信息")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 将执行身份验证功能的处理延迟指定为值 authdelay (以秒及其分数为单位,有关详细信息请参阅xntpd(1M))。虽然指定一个值可以在速度很慢的CPU上提高走时精度,但是该数通常都非常小,以至在大多数情况下都可以将其忽略")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-k")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 将身份验证密钥文件的路径指定为字符串keyfile。 默认值为/etc/ntp.keys。 该文件应该采用xntpd中所述的格式")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 将外发数据包的NTP版本指定为整数版本(可以是1或2)。 默认值是3。 它允许将ntpdate与早期NTP版本一起使用")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 将要从每个服务器中获取的示例数指定为整数示例,其值的范围是 1~8(包括这 两个数)。默认值为4")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-q")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 输出偏移量测量结果、服务器层次以及延迟测量结果,但不调整本地时钟。它类似于“-d”选项,后者提供更为详细的调试信息")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 将日志记录输出从标准输出(默认)转移到系统 syslog (请参阅 syslog(3C))工具。它主要是为方便使用cron脚本而设计")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 将等待服务器响应的最长时间指定为超时值,以秒及其分数为单位。该值将四舍五入成0.2秒的倍数。默认值是1秒,该值适用于轮询局域网")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 指示ntpdate将无特权的端口用于外发的数据包。在防火墙后,如果阻塞向特权端口的传入流量,并且希望与防火墙后的主机进行同步,则该选项极为有用。请注意,“-d” 选项始终使用无特权的端口")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 输出NTP版本号和偏移量测量信息")]),a._v("\n")])])]),s("h2",{attrs:{id:"举例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#举例"}},[a._v("#")]),a._v(" 举例")]),a._v(" "),s("p",[a._v("同步时间")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("$ ntpdate "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("202.112")]),a._v(".29.82\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("16")]),a._v(" Aug "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v(":13:21 ntpdate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("20212")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(": adjust "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("time")]),a._v(" server "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("202.112")]),a._v(".29.82 offset "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.006454")]),a._v(" sec\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);