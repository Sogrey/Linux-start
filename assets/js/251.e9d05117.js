(window.webpackJsonp=window.webpackJsonp||[]).push([[251],{569:function(s,a,t){"use strict";t.r(a);var n=t(14),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"shutdown-用来执行系统关机的命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shutdown-用来执行系统关机的命令"}},[s._v("#")]),s._v(" shutdown - 用来执行系统关机的命令")]),s._v(" "),a("p",[s._v("shutdown命令 用来系统关机命令。shutdown指令可以关闭所有程序，并依用户的需要，进行重新开机或关机的动作。")]),s._v(" "),a("p",[s._v("shutdown指令以安全的方式来关闭系统，所有已经登录的用户都会被告知系统将要关闭。并且在最后五分钟内，新的登录将被阻止。过了指定的time后，关机会向init(8)守护进程发送一个请求，以便将系统降至适当的运行级别。这是通过发出runlevel(7)事件来执行的，该事件包括RUNLEVEL环境变量中的新运行级以及PREVLEVEL变量中的前一个运行级(从环境或/var/run/utmp获得)。可以设置一个额外的INIT_HART变量，它将包含使用halt指令关机的HAL值，或者使用power off指令关机的POWEROFF值。")]),s._v(" "),a("h2",{attrs:{id:"适用范围"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#适用范围"}},[s._v("#")]),s._v(" 适用范围")]),s._v(" "),a("div",{staticClass:"svg redhat"},[s._v("RedHat")]),s._v(" "),a("div",{staticClass:"svg rhel"},[s._v("RHEL")]),s._v(" "),a("div",{staticClass:"svg ubuntu"},[s._v("Ubuntu")]),s._v(" "),a("div",{staticClass:"svg centos"},[s._v("CentOS")]),s._v(" "),a("div",{staticClass:"svg debian"},[s._v("Debian")]),s._v(" "),a("div",{staticClass:"svg deepin"},[s._v("Deepin")]),s._v(" "),a("div",{staticClass:"svg suse"},[s._v("SUSE")]),s._v(" "),a("div",{staticClass:"svg opensuse"},[s._v("openSUSE")]),s._v(" "),a("div",{staticClass:"svg fedora"},[s._v("Fedora")]),s._v(" "),a("div",{staticClass:"svg linuxmint"},[s._v("Linux Mint")]),s._v(" "),a("div",{staticClass:"svg alpinelinux"},[s._v("Alpine Linux")]),s._v(" "),a("div",{staticClass:"svg archlinux"},[s._v("Arch Linux")]),s._v(" "),a("h2",{attrs:{id:"语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("选项"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("时间"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("警告信息"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),a("h2",{attrs:{id:"选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#选项"}},[s._v("#")]),s._v(" 选项")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v("                       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 取消正在执行的关机，这个选项没有时间参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h")]),s._v("                       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关闭计算机，等于halt或者power off")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-P")]),s._v("                       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 等价power off")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-H")]),s._v("                       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 等价halt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-k")]),s._v("                       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 只是发出警告信息，注销登录，并没有 关机")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v("                       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启，等于reboot")]),s._v("\n时间                     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# now代表立刻关机； +m代表m分钟后关闭； 23：00代表在晚上11点关机")]),s._v("\n")])])]),a("h2",{attrs:{id:"说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明"}},[s._v("#")]),s._v(" 说明")]),s._v(" "),a("p",[s._v("如果设置为首选从/var/run/utmp读取RUNLEVEL，关机将从此环境变量读取当前运行级。“/var/run/utmp”文件，读取当前运行级的位置，该文件还将使用新的运行级别进行更新。“/var/log/wtmp”文件，新运行级记录将追加到此文件中。Upstart init(8)守护进程不跟踪运行级别本身，而是完全由其用户空间工具实现。")]),s._v(" "),a("h2",{attrs:{id:"举例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#举例"}},[s._v("#")]),s._v(" 举例")]),s._v(" "),a("p",[s._v("5分钟后关闭机器，并发出警告“I am downing”")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sogrey@bogon /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h")]),s._v(" +5 I am downing   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当前操作有root用户发出，5分钟后关机，并且有提示信息")]),s._v("\nBroadcast message from root@192.168.0.113\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("/dev/pts/1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" at "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":40 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nThe system is going down "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("halt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" minutes"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 5分钟")]),s._v("\nI am downing                                     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 自定义的提示信息")]),s._v("\n")])])]),a("p",[s._v("取消关机")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sogrey@bogon /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v(" –c               "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 需要打开另一个终端，输入取消命令")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sogrey@bogon /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h")]),s._v(" +5 I am downing "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在之前的关机命令窗口，最后可以看到取消的信息")]),s._v("\n…\nThe system is going down "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("halt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" minutes"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\nI am downing\nshutdown: Shutdown cancelled       \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sogrey@bogon /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);