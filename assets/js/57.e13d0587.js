(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{374:function(s,t,a){"use strict";a.r(t);var e=a(14),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"chmod-用来变更文件或目录的权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#chmod-用来变更文件或目录的权限"}},[s._v("#")]),s._v(" chmod - 用来变更文件或目录的权限")]),s._v(" "),t("p",[s._v("改变文件或者目录的权限，可以用数字或者字母来标识权限。")]),s._v(" "),t("ul",[t("li",[s._v("通过符号组合的方式更改目标文件或目录的权限。")]),s._v(" "),t("li",[s._v("通过八进制数的方式更改目标文件或目录的权限。")]),s._v(" "),t("li",[s._v("通过参考文件的权限来更改目标文件或目录的权限。")])]),s._v(" "),t("p",[s._v("在数字模式下：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("0")]),s._v(" 代表没有权限；")]),s._v(" "),t("li",[t("code",[s._v("1")]),s._v(" 代表可执行；")]),s._v(" "),t("li",[t("code",[s._v("2")]),s._v(" 代表可读；")]),s._v(" "),t("li",[t("code",[s._v("4")]),s._v(" 代表可写；")])]),s._v(" "),t("p",[s._v("多个权限可以相加。")]),s._v(" "),t("p",[s._v("在字符模式下：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("x")]),s._v(" 代表执行；")]),s._v(" "),t("li",[t("code",[s._v("r")]),s._v(" 代表读；")]),s._v(" "),t("li",[t("code",[s._v("w")]),s._v(" 代表写；")]),s._v(" "),t("li",[t("code",[s._v("g")]),s._v(" 代表组权限；")]),s._v(" "),t("li",[t("code",[s._v("o")]),s._v(" 代表组内其他用户权限；")]),s._v(" "),t("li",[t("code",[s._v("u")]),s._v(" 代表用户权限")])]),s._v(" "),t("p",[s._v("ls命令中，看到的权限分别是："),t("code",[s._v("用户权限")]),s._v("、"),t("code",[s._v("组权限")]),s._v("、"),t("code",[s._v("组内其他用户权限")]),s._v("。")]),s._v(" "),t("h2",{attrs:{id:"适用范围"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#适用范围"}},[s._v("#")]),s._v(" 适用范围")]),s._v(" "),t("div",{staticClass:"svg redhat"},[s._v("RedHat")]),s._v(" "),t("div",{staticClass:"svg rhel"},[s._v("RHEL")]),s._v(" "),t("div",{staticClass:"svg ubuntu"},[s._v("Ubuntu")]),s._v(" "),t("div",{staticClass:"svg centos"},[s._v("CentOS")]),s._v(" "),t("div",{staticClass:"svg debian"},[s._v("Debian")]),s._v(" "),t("div",{staticClass:"svg deepin"},[s._v("Deepin")]),s._v(" "),t("div",{staticClass:"svg suse"},[s._v("SUSE")]),s._v(" "),t("div",{staticClass:"svg opensuse"},[s._v("openSUSE")]),s._v(" "),t("div",{staticClass:"svg fedora"},[s._v("Fedora")]),s._v(" "),t("div",{staticClass:"svg linuxmint"},[s._v("Linux Mint")]),s._v(" "),t("div",{staticClass:"svg alpinelinux"},[s._v("Alpine Linux")]),s._v(" "),t("div",{staticClass:"svg archlinux"},[s._v("Arch Linux")]),s._v(" "),t("h2",{attrs:{id:"语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("选项"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  mode  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("选项"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  八进制模式  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("选项"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  –reference"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("RFILE  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("\n")])])]),t("h2",{attrs:{id:"选项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#选项"}},[s._v("#")]),s._v(" 选项")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sogrey@bogon 文档"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--help")]),s._v("\n用法：chmod "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("选项"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". 模式"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(",模式"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". 文件"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n　或：chmod "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("选项"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". 八进制模式 文件"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n　或：chmod "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("选项"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--reference")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("参考文件 文件"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nChange the mode of each FILE to MODE.\nWith --reference, change the mode of each FILE to that of RFILE.\n\n  -c, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--changes")]),s._v("               "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# like verbose but report only when a change is made")]),s._v("\n  -f, --silent, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--quiet")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# suppress most error messages")]),s._v("\n  -v, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--verbose")]),s._v("               "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# output a diagnostic for every file processed")]),s._v("\n      --no-preserve-root      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# do not treat '/' specially (the default)")]),s._v("\n      --preserve-root         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# fail to operate recursively on '/'")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--reference")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("RFILE       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# use RFILE's mode instead of MODE values")]),s._v("\n  -R, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--recursive")]),s._v("             "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# change files and directories recursively")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--help")]),s._v("\t\t          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示此帮助信息并退出")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--version")]),s._v("\t\t          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示版本信息并退出")]),s._v("\n\nEach MODE is of the form "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[ugoa]*([-+=]([rwxXst]*|[ugo]))+|[-+=][0-7]+'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n\nGNU coreutils online help: "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("http://www.gnu.org/software/coreutils/"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n请向"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("http://translationproject.org/team/zh_CN.html"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 报告chmod 的翻译错误\n要获取完整文档，请运行：info coreutils "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'chmod invocation'")]),s._v("\n")])])]),t("blockquote",[t("p",[s._v("以上信息来自 CenrOS Linux 8")])]),s._v(" "),t("h2",{attrs:{id:"补充说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#补充说明"}},[s._v("#")]),s._v(" 补充说明")]),s._v(" "),t("p",[s._v("chmod根据模式更改每个给定文件的文件模式位，该模式可以是要进行的更改的符号表示，也可以是表示新模式位的位模式的八进制数。符号模式的格式是[ugoa...][[+-=][perms...]...]，其中perms为集合rwxXst的零个或多个字母，或来自结合ugo的单个字母。可以给出多种符号模式，用逗号分隔。")]),s._v(" "),t("p",[s._v("字母ugoa控制哪些用户访问文件的权限将被更改：(u)拥有该文件的用户、（g）文件组中的其他用户、（o）不属于文件组的其他用户或所有用户(A)。如果所有这些都没有给出，那么效果就好像给定了“a”，但是在umask中设置的位不受影响。")]),s._v(" "),t("p",[s._v("运算符‘+’使所选的文件模式位被添加到每个文件的现有文件模式位中；‘-’使它们被删除；‘=‘使它们被添加，并使未提及的位被删除，除非目录的未提及的设置用户和组ID位不受影响。")]),s._v(" "),t("p",[s._v("字母“rwxXst”为受影响的用户选择文件模式位：(r)读、(w)写、(x)执行(或搜索目录)、(X)只在文件是目录或已对某些用户具有执行权限、(s)在执行时设置用户或组ID、(t)限制删除标志或粘性位时执行/搜索。您可以指定“ugo”其中的一个或多个字母：(u)授予拥有文件的用户的权限，(g)授予属于文件组的其他用户的权限，(o)授予上述两个类别中任何一个用户的权限。")]),s._v(" "),t("p",[s._v("数字模式是1到4个八进制数字(0-7)，通过将值4、2和1的位相加而得。省略的数字被假定为前导零。第一个数字选择设置用户ID(4)和设置组ID(2)，并限制删除或粘贴(1)属性。第二位数为拥有该文件的用户选择权限：读(4)、写(2)和执行(1)；第三位数选择文件组中具有相同值的其他用户的权限；第四位数字选择对不属于文件组的其他用户具有相同值的权限。")]),s._v(" "),t("p",[s._v("chmod从不更改符号链接的权限；chmod系统调用不能更改它们的权限。这不是一个问题，因为符号链接的权限从未被使用过。但是，对于命令行中列出的每个符号链接，chmod会更改指向文件的权限。相反，chmod忽略递归目录遍历过程中遇到的符号链接。")]),s._v(" "),t("h2",{attrs:{id:"设置uid和gid"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置uid和gid"}},[s._v("#")]),s._v(" 设置uid和gid")]),s._v(" "),t("p",[s._v("如果文件的组ID与用户的有效组ID或用户的辅助组ID不匹配，则chmod将清除常规文件的“set-group-ID”位，除非用户具有适当的权限。附加限制可能导致MODE或RFILE的“set-user-ID”和“set-group-ID”位被忽略.此行为取决于底层chmod系统调用的策略和功能。当有疑问时，检查底层系统行为。")]),s._v(" "),t("p",[s._v("chmod保留目录的“set-user-ID”和“set-group-ID”位，除非您显式地另外指定。您可以使用“u+s”和“g-s”这样的符号模式设置或清除位，也可以用数字模式设置(但不清楚)这些位。")]),s._v(" "),t("h2",{attrs:{id:"限制删除标志或粘性位"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#限制删除标志或粘性位"}},[s._v("#")]),s._v(" 限制删除标志或粘性位")]),s._v(" "),t("p",[s._v("受限制的删除标志或粘性位是一个位，其解释取决于文件类型。对于目录，它防止非特权用户删除或重命名目录中的文件，除非他们拥有该文件或目录；这称为目录的限制删除标志，通常在/tmp之类的可写目录中找到。对于一些旧系统上的常规文件，这一位将程序的文本映像保存在交换设备上，以便在运行时更快地加载；这称为粘性位。")]),s._v(" "),t("h2",{attrs:{id:"举例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#举例"}},[s._v("#")]),s._v(" 举例")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sogrey@bogon 文档"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\nee.txt\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sogrey@bogon 文档"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-lh")]),s._v(" ee.txt\n-rw-------. "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" sogrey sogrey "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("月  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":45 ee.txt\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sogrey@bogon 文档"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" ee.txt\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sogrey@bogon 文档"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-lh")]),s._v(" ee.txt\n-rwxrwxrwx. "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" sogrey sogrey "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("月  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":45 ee.txt\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);